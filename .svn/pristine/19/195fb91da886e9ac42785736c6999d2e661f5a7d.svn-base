
<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>    
<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Singup</title>


<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" type="text/css" href="/frontend/stylesheet1.css" />
<link rel="stylesheet" type="text/css" href="/frontend/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="/frontend/style3.css" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,500,500i,700,700i,900,900i' type='text/css'>
<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/vendor/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/vendor/font-awesome/css/all.min.css" />
<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/vendor/bootstrap-select/css/bootstrap-select.css" />
<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/vendor/currency-flags/css/currency-flags.min.css" />
<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/vendor/owl.carousel/assets/owl.carousel.min.css" />
<link rel="stylesheet" type="text/css" href="${pageContext.request.contextPath}/frontend/stylesheet1.css" />
<style>


p{
text-align: center;
text-transform:capitalize;
  }
  
  h3{
      margin-bottom: 10px !important;
  font-size:24px;
  }
.phonetab0{background-color: #00a1ff;
    color: white;
    width: 98px;
    padding: 11px 45px 4px 27px;
    border-top-left-radius: 0px;
    border-top-right-radius: 28px;
     border-bottom-left-radius:8px; 
    border-bottom-right-radius:28px;
	}
	.emailtab0{background-color: #00a1ff;
    color: white;
    width: 98px;
    padding: 11px 45px 4px 27px;
    border-top-left-radius: 0px;
    border-top-right-radius: 28px;
     border-bottom-left-radius:8px; 
    border-bottom-right-radius:28px;
	}
	
	
	
	
	
	
	
            #frmCheckPassword {
                border-top: #F0F0F0 2px solid;
                background: #808080;
                padding: 10px;
            }

            .demoInputBox {
                padding: 7px;
                border: #F0F0F0 1px solid;
                border-radius: 4px;
            }

            #password-strength-status {
                padding: 5px 10px;
                color: #FFFFFF;
                border-radius: 4px;
                margin-top: 5px;
            }

            .medium-password {
                   background-color: #a93147;
    				border: #a93147;
            }

            .weak-password {
                background-color: #ce1d14;
                border: #AA4502 1px solid;
            }

            .strong-password {
                background-color: #12CC1A;
                border: #0FA015 1px solid;
            }
          
          .sign-up ul.nav.nav-tabs {
    margin-left: 23%;
        text-align: center;
}

 .sign-up  .input-group-text {
  margin-right: 5px;
    left: 0px !important ;
}


  
  
  #wrapper {
  font-family: Lato;
  font-size: 1.5rem;
  text-align: center;
  box-sizing: border-box;
  color: #333;
}
#wrapper #dialog {
  border: solid 1px #ccc;
  margin: 10px auto;
  padding: 20px 30px;
  display: inline-block;
  box-shadow: 0 0 4px #ccc;
  background-color: #FAF8F8;
  overflow: hidden;
  position: relative;
 
}
#wrapper #dialog h3 {
  margin: 0 0 10px;
  padding: 0;
  line-height: 1.25;
}
#wrapper #dialog span {
  font-size: 90%;
}
#wrapper #dialog #form {
  max-width: 240px;
  margin: 25px auto 0;
}
#wrapper #dialog #form input {
  margin: 0 5px;
  text-align: center;
    line-height: 17px;
    font-size: 30px;
    border: solid 1px #ccc;
    box-shadow: none;
    outline: none;
    width: 17%;
  -webkit-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
  border-radius: 0px;
}
#wrapper #dialog #form input:focus {
  border-color:#22b355;
  box-shadow: 0 0 5px #22b355 inset;
}
#wrapper #dialog #form input::-moz-selection {
  background: transparent;
}
#wrapper #dialog #form input::selection {
  background: transparent;
}
#wrapper #dialog #form button {
  margin: 30px 0 50px;
  width: 100%;
  padding: 6px;
  background-color: #22b355;
  border: none;
  text-transform: uppercase;
}
#wrapper #dialog button.close {
  border: solid 2px;
  border-radius: 30px;
  line-height: 19px;
  font-size: 120%;
  width: 22px;
  position: absolute;
  right: 5px;
  top: 5px;
}
#wrapper #dialog div {
  position: relative;
  z-index: 1;
}
#wrapper #dialog img {
  position: absolute;
  bottom: -70px;
  right: -63px;
}
  
  
  .modal-content {
    background: none;
    border: none;
    box-shadow: none;
}

.modal-body{
    background: none;
    border: none;
    box-shadow: none;
padding:0px;
}

p{
color: #000;
    font-size: 20px;
    font-weight: 500;
}
    @media only screen and (max-width:767px){
    
    .sign-up .nav-tabs .emailtab0.active, .sign-up .nav-tabs .emailtab0 {
    margin-right: 0px;
}
    .sign-up ul.nav.nav-tabs {
    text-align: center;
    /* margin: 0 auto; */
    width: 100%;
    margin-left: 30px;
}
  .sign-up .form-control, .custom-select {
    border-color: #dae1e3;
    font-size: 14px;
    color: #656565;
}

 .sign-up  .input-group-text {
  margin-right: 5px;
    left: 0px !important ;
}
 
    }
        </style>
 <script>
        function checkPasswordStrength() {
            var number = /([0-9])/;
            var alphabets = /([a-z])/;
            var special_characters = /([A-Z])/;
            if ($('#password').val().length < 8) {
                $('#password-strength-status').removeClass();
                $('#password-strength-status').addClass('weak-password');
                $('#password-strength-status').html("Weak (should be atleast 8 characters.)");
                $('#pwdflag').val('week');
            } else {
                if ($('#password').val().match(number) && $('#password').val().match(alphabets) && $('#password').val().match(special_characters)) {
                    $('#password-strength-status').removeClass();
                    $('#password-strength-status').addClass('strong-password');
                    $('#password-strength-status').html("Strong");
                    $('#pwdflag').val('strong');
                } else {
                    $('#password-strength-status').removeClass();
                    $('#password-strength-status').addClass('medium-password');
                    $('#password-strength-status').html("Medium (should include alphabets, 1 uppercase , 1 lowecase and 1 number...)");
                    $('#pwdflag').val('week');
                }
            }
        }
    </script>
<script type="text/javascript">
$(document).ready(function(){
	$('#submitbtn').click(function(){
		var tabName=$('#tabName').val();
		$('#customerSignUpFlag').val('email');
		if(tabName=='email'){
			$('#mobileNumber').val();
			var emailId=$('#emailId').val();	
			if(emailId!="" && emailId!=null){
				$('#emailId').val(emailId);
				$('#userName').val(emailId);
			}else{
			$('#emailId').focus().css('outline' , 'solid red 2px');
			return false;
			}
			
			$('#firstName').val();
			var firstName=$('#firstName').val();	
			if(firstName!="" && firstName!=null){
				$('#firstName').val(firstName);
				$('#firstName').val(firstName);
			}else{
			$('#firstName').focus().css('outline' , 'solid red 2px');
			return false;
			}
			
			
			$('#lastName').val();
			var lastName=$('#lastName').val();	
			if(lastName!="" && lastName!=null){
				$('#lastName').val(lastName);
				$('#lastName').val(lastName);
			}else{
			$('#lastName').focus().css('outline' , 'solid red 2px');
			return false;
			}
			
			$('#Branch').val();
			var Branch=$('#Branch').val();	
			
			if(Branch==""){
		           $('#Branch').focus().css('outline','2px solid red');
		           return false;
				}
			
			
			var testVal='';
			$.ajax({
				url : "${pageContext.request.contextPath}/common/CheckUsersEmail",
				method : "post",
				data : "emailId="+emailId,
				async : false,
				success : function(response){
					if(response=='exist'){
						testVal='exist';
					}
				},
				error : function(xhr,error,status){
					//alert('checkemailid error = '+error+status);
				}
				
			});
			if(testVal!=''){
				$('#emailId').focus().css('outline' , 'solid red 2px');
				$('#emsg').empty();
				$('#emsg').append("<font color='red'>Email address already exist!</font>");
				return false;
			}
			if(IsEmail(emailId)==false){
				$('#emailId').focus().css('outline' , 'solid red 2px');
				$('#emsg').empty();
				$('#emsg').append("<font color='red'>Invalid Email</font>");
		          return false;
		        }
			
		}
		var mobileNumber='';
		if(tabName=='mob'){
			$('#emailId').val('');
			 mobileNumber=$('#mobileNumber').val();	
			$('#customerSignUpFlag').val('mob');
			if(mobileNumber!="" && mobileNumber!=null){
				$('#mobileNumber').val(mobileNumber);
				$('#userName').val(mobileNumber);
			}else{
				$('#mobileNumber').focus().css('outline' , 'solid red 2px');
				return false;
			}
			var testVal='';
			$.ajax({
				url : 'checkphoneno',
				method : "post",
				data : "phoneNo="+mobileNumber,
				async : false,
				success : function(response){
					if(response=='exist'){
						testVal='exist';
					}
				},
				error : function(xhr,error,status){
				alert('checkemailid error = '+error+status);
				}
				
			});
			if(testVal!=''){
				$('#mobileNumber').focus().css('outline' , 'solid red 2px');
				$('#pmsg').empty();
				$('#pmsg').append("<font color='red'>Mobile number already exist!</font>");
				return false;
			}
		}
		var pwd=$('#password').val();
		if(pwd==''){
			$('#password').focus().css('outline' , 'solid red 2px');
			return false;
		}
		var pwdflag =$('#pwdflag').val();
		
		
		
		$('#signupForm').attr("method","POST");
		$('#signupForm').attr("action","savecustomer");
		$('#signupForm').attr("enctype","multipart/form-data");
		if(pwdflag=='strong'){
			 if(tabName=='mob'){
				 $('#optMobileNo').empty();
				 $('#optMobileNo').append("+61"+mobileNumber);
				sendOTP();
				$('#digitPassword').modal('show');
			}else{
				$('#signupForm').submit();	
			} 
				
		}
		
	});
	$('#login').click(function(){
		$('#signupForm').attr("method","POST");
		$('#signupForm').attr("action","login");
		$('#signupForm').submit();
	});
});
</script>
<script type="text/javascript">
function sendOTP(){
	var mobileNumber=$('#mobileNumber').val();	
	$.ajax({
		url : "${pageContext.request.contextPath}/common/sendOTP",
		data : "mob="+mobileNumber,
		async : false,
		success : function(response){
			$('#otpvalue').val(response);
		},
		error : function(error,xhr,status){
			//alert(xhr);
		}
	});
}
</script>
<script type="text/javascript">
function setTabNameToVariable(tabName){
	$('#tabName').val(tabName);
}
</script>
<script type="text/javascript">
function IsEmail(email) {
	  var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
	  if(!regex.test(email)) {
	    return false;
	  }else{
	    return true;
	  }
	}
</script>
<script type="text/javascript">
function removeError(id){
	//alert("id is "+id);
	$('#'+id).css('outline','#B0C4DE');
}
function onlyNumber(evt) {
    evt = (evt) ? evt : window.event;
    var charCode = (evt.which) ? evt.which : evt.keyCode;
    if (charCode > 31 && (charCode < 48 || charCode > 57) && charCode!=46) {
        return false;
    }
    return true;
}
</script>
</head>
<body class="sign-up">
<input type="hidden" id="pwdflag" value="week"/>
<div id="main-wrapper" class="h-100">
<input type="hidden" id="otpvalue"/>
  <div class="container-fluid px-0 h-100">
    <div class="row no-gutters h-100">
      <!-- Welcome Text
      ============================================= -->
      <div class="col-md-6">
        <div class="hero-wrap  h-100">
          <div class="hero-mask opacity-8 bg-primary"></div>
          <div class="hero-bg hero-bg-scroll" style="background-image:url('${pageContext.request.contextPath}/images/smartphone.png');"></div>
          <div class="hero-content mx-auto w-100 h-100 d-flex flex-column">
            <div class="row no-gutters">
              <div class="col-10 col-lg-9 mx-auto">
          
              </div>
            </div>
              <div class="row no-gutters my-auto">
                <div class="col-10 col-lg-9 mx-auto">
                
                </div>
              </div>
          </div>
        </div>
      </div>
      <input type="hidden" id="tabName" value="email"/>
      <!-- Welcome Text End -->
      
      <!-- Login Form
      ============================================= -->
      <div class="col-md-6 d-flex align-items-center">
        <div class="container my-4">
          <div class="row">
            <div class="col-11 col-lg-9 col-xl-8 mx-auto">
             <a class="d-block text-center" href="${pageContext.request.contextPath}/index" title="Payyed - HTML Template"><img src="/images/adminlogo/${adminId}/${adminLogo}" style="width:300px;" alt="Payyed"></a>
              <h3 class="text-center font-weight-400 mt-4">Welcome to money without borders.</h3>
              <p>Simply signup using your </p>
              <form id="signupForm">
             <input type="hidden" name ="model" id="model" value="${model}">	
              
																<input type="hidden" name ="modeOfPayment" id="modeOfPayment" value="${model.modeOfPayment}">	
																<input type="hidden" id="paymentType" name="paymentType" value="${model.paymentType}">
																 <input type="hidden" id="toCountry" name="receivingBranch" value="${model.receivingBranch}"/>
																<input type="hidden" id="fromCountry" name="sendingBranch" value="${model.sendingBranch}"/> 
																<input type="hidden" id="adminId" name="adminId" value="${model.adminId}"/>
																<input type="hidden" name="sendingAmount" value="${model.sendingAmount}"/>
																<input type="hidden" name="msidnInformationId" value="${msidnInformationId}">
																 <input type="hidden" name="deliveryTime" value="${model.deliveryTime}"> 
																 <input type="hidden" name="mobileVerificationStatus" id="mobileVerificationStatus" value="not verified"/>
																 <input type="hidden" name="emailVerificationStatus" id="emailVerificationStatus" value="not verified"/>
               		<input type="hidden" name="ds" id="ds" value="${ds}">
               		<input type="hidden" name="receivingAmount" value="${model.receivingAmount}"/>
               <input type="hidden" name="userName" id="userName"value="" />
               <input type="hidden" name="customerSignUpFlag" id="customerSignUpFlag"value="" />
               
               <input type="hidden" name="page" value="${page}">
               <input type="hidden" name="msidnInformationId" value="${msidnInformationId}">
               <input type="hidden" name="destination_currency" id="destination_currency" value="${destination_currency}"> 
			   <input type="hidden" name="product_requested" id="product_requested" value="${product_requested}">
			  <input type="hidden" name="retail_price" id="retail_price" value="${retail_price}">
			     <input type="hidden" name="operator" id="operator" value="${operator}">
			   <input type="hidden" name="operatorid" id="operatorid" value="${operatorid}">
			   <input type="hidden" name="operatorcountry" id="operatorcountry" value="${country}"> 
			   <input type="hidden" name="countryid" id="countryid" value="${countryid}">
			  <input type="hidden" name="destination_msisdn" value="${destination_msisdn}">
           <!--  <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active emailtab0" data-toggle="tab" id="mobtab" href="#email-tab" onclick="setTabNameToVariable('email');"role="tab" aria-controls="home" aria-selected="true">Email</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link phonetab0" data-toggle="tab" href="#phone-tab" id="emailtab" onclick="setTabNameToVariable('mob');"role="tab" aria-controls="phone-tab" aria-selected="false">Mobile</a>
                </li> 
              </ul>
              -->
              
              <br>
              <br>
              
              
                                  <div class="form-group" style="position: relative; margin-bottom: -12px;">
                  <input type="text" class="form-control   signemail" name="firstName" id="firstName" onkeyup="removeError('firstName');"placeholder="Your firstName">
               <label id="firstName"></label>
                </div>
                <div class="form-group" style="position: relative; margin-bottom: -12px;">
                  <input type="text" class="form-control   signemail" name="lastName" id="lastName" onkeyup="removeError('lastName');"placeholder="Your lastName">
               <label id="lastName"></label>
               </div>
                
                
                <div class="">
				<div class="">
              					<div class="form-group">
                					<c:if test="${branchId eq '' }">
                				
                						<select class="form-control pull-right" name="Branch" id="Branch" onclick="removeError('Branch');">
								
								<option value="">--Select Branch--</option>
								
								<c:forEach var="branch" items="${list}">
								
									<option value="${branch.branchId}">${branch.fromCountry.countryName}</option>
                
                                 
						</c:forEach>
							</select>
							</c:if>
							<c:if test="${branchId ne '' }">
                					
                						<select class="form-control pull-right" name="Branch" id="Branch" onclick="removeError('Branch');">
								
								<c:forEach var="branch" items="${list}">
             <c:choose>
	 <c:when test="${branch.branchId eq branchId}">
	<option selected value="${branch.branchId}">${branch.fromCountry.countryName}</option>
</c:when>
<c:otherwise>
    <option value= "${branch.branchId}">${branch.fromCountry.countryName}</option>
	 </c:otherwise>
</c:choose> 
   
                
                                 
						</c:forEach>
							</select>
							
							
							
							</c:if>
              					</div>
              					</div>
              					</div>
      					              					
              	<div class="tab-content mt-3">
                <div class="tab-pane fade show active" id="email-tab" role="tabpanel" aria-labelledby="email-tab">
                  <div class="form-group" style="position: relative; margin-bottom: -12px;">
                  <input type="text" class="form-control   signemail" name="emailId" id="emailId" onkeyup="removeError('emailId');"placeholder="Your email address">
               <label id="emsg"></label>
                </div>
                
                
                </div>
                <div class="tab-pane fade" id="phone-tab" role="tabpanel" aria-labelledby="profile-tab">
                 <div class="">
                     <div class="input-group-prepend"> <span class="input-group-text p-0">
                        <div class="dropdown bootstrap-select form-control bg-transparent">
                        <select id="youSendCurrency" data-style="custom-select bg-transparent border-0" data-container="body" data-live-search="false" class="selectpicker form-control bg-transparent" required="" tabindex="-98">
                         <!--  <option data-icon="currency-flag currency-flag-usd mr-1" data-subtext="United States" selected="selected" value="">+1</option> -->
                          <option data-icon="currency-flag currency-flag-aud mr-1" data-subtext="Australia" selected value="61">+61</option>
                       
                        </select>
                        
                        </div>
                        
                        </span> 
                         <input type="text" class="form-control" data-bv-field="phone-number" onkeyup="removeError('mobileNumber');" onkeypress="return onlyNumber(event)" name="mobileNumber" id="mobileNumber" placeholder="Enter your mobile number"></div>
                  <label id="pmsg"></label>
                  </div>
                  
                </div><!-- /#phone-tab ENDs-->
              </div>
                
                <div class="form-group">
                  <input type="password"  class="form-control  signpwd" name="password" id="password"onkeyup="removeError('password');checkPasswordStrength();" required placeholder="Create a password">
               
               <div id="password-strength-status"></div>
                </div>
                <div class="text-center">
                     <p class="small"> By clicking Sign up, you accept our
                         <a href="termsandconditions" target="_blank">Terms &amp; Conditions</a>  and
                         <a href="privacypolicy" target="_blank">Privacy Policy</a>
                     </p>
                                        </div>
                <button class="btn btn-primary btn-block my-4" type="button" id="submitbtn">Signup</button>
              </form>
              <p class="text-3 text-center text-muted">Already have an account? <button type="button" id="login" class="btn-link" style="margin: 0;font-family: inherit;font-size: inherit;line-height: inherit;border: 0;background-color: transparent;">Log In</button></p>
            </div>
          </div>
        </div>
      </div>
      <!-- Login Form End -->
      
      
      
      
      
      
      
      
      <div id="digitPassword" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="digitPasswordlbl" aria-hidden="true">
        <div class="vertical-alignment-helper">
            <div class="modal-dialog vertical-align-center">
                <div class="modal-content">
                   
                    <div class="modal-body" style=".row {text-align: center}">
                    
                             
               <div id="wrapper">
  <!-- <div id="dialog">
    <button class="close" data-dismiss="modal">×</button>
    <h4>Please enter verification code sent to:</h4>
     <span style="margin: 0 16% 0 0;" id="optMobileNo"></span><span style="color:red" onclick="focusMobileNo();">change</span>
    <div id="form">
      <input type="text" maxLength="1" size="1" min="0" max="9" id="b1" onkeyup="moveOnMax('b1','b2')" pattern="[0-9]{1}" />
      <input type="text" maxLength="1" size="1" min="0" max="9" id="b2"onkeyup="moveOnMax('b2','b3')"  pattern="[0-9]{1}" />
      <input type="text" maxLength="1" size="1" min="0" max="9" id="b3" onkeyup="moveOnMax('b3','b4')" pattern="[0-9]{1}" />
      <input type="text" maxLength="1" size="1" min="0" max="9" id="b4" onkeyup="moveOnMax('b4','1')" pattern="[0-9]{1}" />
      <span style="color:red" id="invalidotpmessage"></span>
      <button class="btn btn-primary btn-embossed" onclick="verifyOTP();">Verify</button>
    </div>

    <div>
      <h5><a href="#" onclick="sendOTP();">Request new code</a><br /></h5>

    </div>

  </div> -->
</div>
               <!-- 
               
                            <input type="hidden" name="formType" value="confirmPassword">
                          
                           
                            <div class="form-group">
                          
                                <div class="col-sm-5 text-center" style="display:inline;     margin-left: 52px;">
                             
                                    <input name="firstdigit" class="digit text-center" type="password" required id="firstdigit" size="1" maxlength="1" tabindex="0">
                                    <input name="secondtdigit" class="digit text-center" type="password" required id="firstdigit" size="1" maxlength="1" tabindex="1">
                                    <input name="thirddigit" class="digit text-center" type="password" required id="thirddigit" size="1" maxlength="1"  tabindex="2" >
                                    <input name="fourthdigit" class="digit text-center" type="password" required id="fourthdigit" size="1" maxlength="1" tabindex="3">
                                </div>
                             
                            </div>
                            <div class="form-group">
                                <div class="col-sm-9 col-sm-offset-3 text-center" style="margin-left: 29px;">
                                    Do NOT use name="submit" or id="submit" for the Submit button

                                    <button type="submit" class="btn btn-default digit" tabindex="3">Confirm</button>
                                </div>
                            </div> -->
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
  </div>
</div>

<!-- Back to Top
============================================= --> 
<a id="back-to-top" data-toggle="tooltip" title="Back to Top" href="javascript:void(0)"><i class="fa fa-chevron-up"></i></a> 
<script src="${pageContext.request.contextPath}/resources/vendor/jquery/jquery.min.js"></script> 
<script src="${pageContext.request.contextPath}/resources/vendor/bootstrap/js/bootstrap.bundle.min.js"></script> 
<script src="${pageContext.request.contextPath}/resources/vendor/bootstrap-select/js/bootstrap-select.min.js"></script> 
<script src="${pageContext.request.contextPath}/resources/vendor/owl.carousel/owl.carousel.min.js"></script> 
<script src="${pageContext.request.contextPath}/resources/js/theme.js"></script>
</body>
<script type="text/javascript">
$( document ).ready(function() {
    $('#digitPasswordbtn').click(function() {
        $('#digitPassword').modal('show');
    });
    $(":input[type='password']").keyup(function(event){
        if ($(this).next('[type="password"]').length > 0){
            $(this).next('[type="password"]')[0].focus();
        }else{
            if ($(this).parent().next().find('[type="password"]').length > 0){
                $(this).parent().next().find('[type="password"]')[0].focus();
            }
        }
    });
    $('#digitPassword').on('shown.bs.modal', function (e) {
    	$("#b1").focus();
    });
});

</script>
<script>
 function moveOnMax(currentfield, nextFieldID) {
// 	 alert('fieldis  = '+currentfield);
// 	 alert('length is  = ='+$('#'+currentfield).val().length);
	 //alert('hiii'+$('#'+nextFieldID).length);
     if ($('#'+currentfield).val().length == 1) {
        $('#'+nextFieldID).focus();
        if(currentfield=='b4'){
        	verifyOTP();
        }else{
        	var otp=$('#b1').val()+$('#b2').val()+$('#b3').val()+$('#b4').val();
        	if(otp.length==4){
        		verifyOTP();
        	}
        	
        }
        
        
    } 
}
</script>
<script type="text/javascript">
function focusMobileNo(){
	$('#optMobileNo').empty();
	$('#digitPassword').modal('hide');
	$('#mobileNumber').focus();
}
function verifyOTP(){
	var b1=$('#b1').val();
	var b2=$('#b2').val();
	var b3=$('#b3').val();
	var b4=$('#b4').val();
	if(b1==''){
		$('#b1').focus().css('outline','solid red 2px');
		return false;
	}
	if(b2==''){
		$('#b2').focus().css('outline','solid red 2px');
		return false;
	}
	if(b3==''){
		$('#b3').focus().css('outline','solid red 2px');
		return false;
	}
	if(b4==''){
		$('#b4').focus().css('outline','solid red 2px');
		return false;
	}
	
	var enteredOTP=b1+b2+b3+b4;
	//alert('enteredOTP = ='+enteredOTP);
	var otpvalue=$('#otpvalue').val();
	//alert('otpvalue = ='+otpvalue);
	if(enteredOTP==otpvalue){
		$('#invalidotpmessage').empty();
		$('#signupForm').submit();	
		$('#mobileVerificationStatus').val('verified');
	}else{
		$('#invalidotpmessage').empty();
		$('#invalidotpmessage').append('Invalid OTP,Please try again');
		$('#mobileVerificationStatus').val('not verified');
	}
}
</script>
</html>